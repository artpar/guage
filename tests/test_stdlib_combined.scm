; Combined: Load stdlib + run tests

; ============================================================================
; STDLIB: List Operations
; ============================================================================

; â†¦ :: (Î± â†’ Î²) â†’ [Î±] â†’ [Î²]
(â‰” â†¦ (Î» (Î»
  (âˆ‡ 0 (âŒœ ((âˆ… âˆ…)
           ((âŸ¨âŸ© ğ•© ğ•ª) (âŸ¨âŸ© (2 ğ•©) (â†¦ 2 ğ•ª)))))))))

; âŠ² :: (Î± â†’ ğ”¹) â†’ [Î±] â†’ [Î±]
(â‰” âŠ² (Î» (Î»
  (âˆ‡ 0 (âŒœ ((âˆ… âˆ…)
           ((âŸ¨âŸ© ğ•© ğ•ª)
            (? (2 ğ•©)
               (âŸ¨âŸ© ğ•© (âŠ² 2 ğ•ª))
               (âŠ² 2 ğ•ª)))))))))

; âŠ•â† :: (Î± â†’ Î² â†’ Î±) â†’ Î± â†’ [Î²] â†’ Î±
(â‰” âŠ•â† (Î» (Î» (Î»
  (âˆ‡ 0 (âŒœ ((âˆ… 1)
           ((âŸ¨âŸ© ğ•© ğ•ª)
            (âŠ•â† 3 (3 1 ğ•©) ğ•ª)))))))))

; âŠ•â†’ :: (Î± â†’ Î² â†’ Î²) â†’ [Î±] â†’ Î² â†’ Î²
(â‰” âŠ•â†’ (Î» (Î» (Î»
  (âˆ‡ 1 (âŒœ ((âˆ… 0)
           ((âŸ¨âŸ© ğ•© ğ•ª)
            (3 ğ•© (âŠ•â†’ 3 ğ•ª 0))))))))))

; # :: [Î±] â†’ â„•
(â‰” # (Î»
  (âŠ•â† (Î» (Î» (âŠ• 1 #1))) #0 0)))

; â§º :: [Î±] â†’ [Î±] â†’ [Î±]
(â‰” â§º (Î» (Î»
  (âŠ•â†’ âŸ¨âŸ© 1 0))))

; â‡„ :: [Î±] â†’ [Î±]
(â‰” â‡„ (Î»
  (âŠ•â† (Î» (Î» (âŸ¨âŸ© 0 1))) âˆ… 0)))

; â†‘ :: â„• â†’ [Î±] â†’ [Î±]
(â‰” â†‘ (Î» (Î»
  (? (â‰¡ 1 #0)
     âˆ…
     (âˆ‡ 0 (âŒœ ((âˆ… âˆ…)
              ((âŸ¨âŸ© ğ•© ğ•ª) (âŸ¨âŸ© ğ•© (â†‘ 2 (âŠ– 2 #1) ğ•ª))))))))))

; â†“ :: â„• â†’ [Î±] â†’ [Î±]
(â‰” â†“ (Î» (Î»
  (? (â‰¡ 1 #0)
     0
     (âˆ‡ 0 (âŒœ ((âˆ… âˆ…)
              ((âŸ¨âŸ© _ ğ•ª) (â†“ 2 (âŠ– 2 #1) ğ•ª)))))))))

; âŠ¼ :: [Î±] â†’ [Î²] â†’ [âŸ¨Î± Î²âŸ©]
(â‰” âŠ¼ (Î» (Î»
  (âˆ‡ (âŸ¨âŸ© 1 0)
     (âŒœ (((âŸ¨âŸ© âˆ… _) âˆ…)
         ((âŸ¨âŸ© _ âˆ…) âˆ…)
         ((âŸ¨âŸ© (âŸ¨âŸ© ğ•© ğ•ª) (âŸ¨âŸ© ğ•« ğ•¦))
          (âŸ¨âŸ© (âŸ¨âŸ© ğ•© ğ•«) (âŠ¼ ğ•ª ğ•¦)))))))))

; âˆƒ :: (Î± â†’ ğ”¹) â†’ [Î±] â†’ ğ”¹
(â‰” âˆƒ (Î» (Î»
  (âˆ‡ 0 (âŒœ ((âˆ… #f)
           ((âŸ¨âŸ© ğ•© ğ•ª)
            (? (2 ğ•©) #t (âˆƒ 2 ğ•ª)))))))))

; âˆ€ :: (Î± â†’ ğ”¹) â†’ [Î±] â†’ ğ”¹
(â‰” âˆ€ (Î» (Î»
  (âˆ‡ 0 (âŒœ ((âˆ… #t)
           ((âŸ¨âŸ© ğ•© ğ•ª)
            (? (2 ğ•©) (âˆ€ 2 ğ•ª) #f))))))))

; âˆˆ :: Î± â†’ [Î±] â†’ ğ”¹
(â‰” âˆˆ (Î» (Î»
  (âˆƒ (Î» (â‰¡ 1 0)) 0))))

; â‹¯ :: â„• â†’ â„• â†’ [â„•]
(â‰” â‹¯ (Î» (Î»
  (? (â‰¥ 1 0)
     âˆ…
     (âŸ¨âŸ© 1 (â‹¯ (âŠ• 1 #1) 0))))))

; âŠšâŠš :: â„• â†’ Î± â†’ [Î±]
(â‰” âŠšâŠš (Î» (Î»
  (? (â‰¡ 1 #0)
     âˆ…
     (âŸ¨âŸ© 0 (âŠšâŠš (âŠ– 1 #1) 0))))))

; ============================================================================
; TESTS
; ============================================================================

; Helper
(â‰” ğ•ƒ (âŸ¨âŸ© #1 (âŸ¨âŸ© #2 (âŸ¨âŸ© #3 âˆ…))))

; Test â†¦ (map)
(âŠ¨ :map-double
   (âŸ¨âŸ© #2 (âŸ¨âŸ© #4 (âŸ¨âŸ© #6 âˆ…)))
   (â†¦ (Î» (âŠ— 0 #2)) ğ•ƒ))

; Test # (length)
(âŠ¨ :length-three
   #3
   (# ğ•ƒ))

; Test âŠ•â† (fold-left sum)
(âŠ¨ :fold-sum
   #6
   (âŠ•â† âŠ• #0 ğ•ƒ))

; Test â‡„ (reverse)
(âŠ¨ :reverse-list
   (âŸ¨âŸ© #3 (âŸ¨âŸ© #2 (âŸ¨âŸ© #1 âˆ…)))
   (â‡„ ğ•ƒ))

; Test â‹¯ (range)
(âŠ¨ :range-1-5
   (âŸ¨âŸ© #1 (âŸ¨âŸ© #2 (âŸ¨âŸ© #3 (âŸ¨âŸ© #4 âˆ…))))
   (â‹¯ #5 #1))
