; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
; Guage Standard Library: Sorting Algorithms
; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

; Copy from old file up to line 159
; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
; Guage Standard Library: Sorting Algorithms
; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
;
; Provides multiple sorting algorithms with different trade-offs:
; - Bubble sort: Simple, O(nÂ²), stable
; - Insertion sort: Good for small/nearly-sorted, O(nÂ²), stable
; - Merge sort: Guaranteed O(n log n), stable, uses extra space
; - Quicksort: Average O(n log n), unstable, in-place
;
; Plus utilities for custom comparators and sorting checks.
;
; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; COMPARATORS
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

; Default numeric comparator: a â‰¤ b
(â‰” âŠ™â‰¤ (Î» (a) (Î» (b) (â‰¤ a b))))

; Reverse comparator: b â‰¤ a
(â‰” âŠ™â‰¥ (Î» (a) (Î» (b) (â‰¥ a b))))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; UTILITY FUNCTIONS
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

; Check if list is sorted according to comparator
; âŠ™âŠ¢â†’ : (Î± â†’ Î± â†’ ğ”¹) â†’ [Î±] â†’ ğ”¹
(â‰” âŠ™âŠ¢â†’ (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     #t
     (? (âˆ…? (â–· lst))
        #t
        (? ((cmp (â— lst)) (â— (â–· lst)))
           ((âŠ™âŠ¢â†’ cmp) (â–· lst))
           #f))))))

; Check if list is sorted (ascending)
; âŠ™âŠ¢ : [â„•] â†’ ğ”¹
(â‰” âŠ™âŠ¢ (âŠ™âŠ¢â†’ âŠ™â‰¤))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; BUBBLE SORT
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

(â‰” âŠ™bubble-pass (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     âˆ…
     (? (âˆ…? (â–· lst))
        lst
        (? ((cmp (â— lst)) (â— (â–· lst)))
           (âŸ¨âŸ© (â— lst) ((âŠ™bubble-pass cmp) (â–· lst)))
           (âŸ¨âŸ© (â— (â–· lst)) ((âŠ™bubble-pass cmp) (âŸ¨âŸ© (â— lst) (â–· (â–· lst)))))))))))

(â‰” âŠ™bubbleâ†’ (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     âˆ…
     (? ((âŠ™âŠ¢â†’ cmp) lst)
        lst
        ((âŠ™bubbleâ†’ cmp) ((âŠ™bubble-pass cmp) lst)))))))

(â‰” âŠ™bubble (âŠ™bubbleâ†’ âŠ™â‰¤))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; INSERTION SORT
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

(â‰” âŠ™insert-sorted (Î» (cmp) (Î» (x) (Î» (lst)
  (? (âˆ…? lst)
     (âŸ¨âŸ© x âˆ…)
     (? ((cmp x) (â— lst))
        (âŸ¨âŸ© x lst)
        (âŸ¨âŸ© (â— lst) (((âŠ™insert-sorted cmp) x) (â–· lst)))))))))

(â‰” âŠ™insertionâ†’ (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     âˆ…
     (((âŠ™insert-sorted cmp) (â— lst)) ((âŠ™insertionâ†’ cmp) (â–· lst)))))))

(â‰” âŠ™insertion (âŠ™insertionâ†’ âŠ™â‰¤))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; MERGE SORT
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

; Merge two sorted lists
(â‰” âŠ™merge (Î» (cmp) (Î» (lst1) (Î» (lst2)
  (? (âˆ…? lst1)
     lst2
     (? (âˆ…? lst2)
        lst1
        (? ((cmp (â— lst1)) (â— lst2))
           (âŸ¨âŸ© (â— lst1) (((âŠ™merge cmp) (â–· lst1)) lst2))
           (âŸ¨âŸ© (â— lst2) (((âŠ™merge cmp) lst1) (â–· lst2))))))))))

; Reverse a list
(â‰” âŠ™rev-helper (Î» (acc) (Î» (lst)
  (? (âˆ…? lst)
     acc
     ((âŠ™rev-helper (âŸ¨âŸ© (â— lst) acc)) (â–· lst))))))

(â‰” âŠ™rev (Î» (lst)
  ((âŠ™rev-helper âˆ…) lst)))

; Split list in half
(â‰” âŠ™split-helper (Î» (prefix) (Î» (slow) (Î» (fast)
  (? (âˆ…? fast)
     (âŸ¨âŸ© prefix slow)
     (? (âˆ…? (â–· fast))
        (âŸ¨âŸ© prefix slow)
        (((âŠ™split-helper (âŸ¨âŸ© (â— slow) prefix)) (â–· slow)) (â–· (â–· fast)))))))))

(â‰” âŠ™split (Î» (lst)
  (((âŠ™split-helper âˆ…) lst) lst)))

; Merge sort with custom comparator
(â‰” âŠ™mergesortâ†’ (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     âˆ…
     (? (âˆ…? (â–· lst))
        lst
        ((Î» (halves)
           ((Î» (left)
              ((Î» (right)
                 (((âŠ™merge cmp) ((âŠ™mergesortâ†’ cmp) left)) ((âŠ™mergesortâ†’ cmp) right)))
               (â–· halves)))
            (âŠ™rev (â— halves))))
         (âŠ™split lst)))))))

(â‰” âŠ™mergesort (âŠ™mergesortâ†’ âŠ™â‰¤))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; QUICKSORT
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

; Helper to append two lists
(â‰” âŠ™append (Î» (lst1) (Î» (lst2)
  (? (âˆ…? lst1)
     lst2
     (âŸ¨âŸ© (â— lst1) ((âŠ™append (â–· lst1)) lst2))))))

; Helper to concatenate three lists
(â‰” âŠ™concat-three (Î» (a) (Î» (b) (Î» (c)
  ((âŠ™append ((âŠ™append a) b)) c)))))

; Partition list around pivot
(â‰” âŠ™partition-helper (Î» (cmp) (Î» (pivot) (Î» (lst) (Î» (less) (Î» (greater)
  (? (âˆ…? lst)
     (âŸ¨âŸ© (âŠ™rev less) (âŠ™rev greater))
     (? ((cmp (â— lst)) pivot)
        (((((âŠ™partition-helper cmp) pivot) (â–· lst)) (âŸ¨âŸ© (â— lst) less)) greater)
        (((((âŠ™partition-helper cmp) pivot) (â–· lst)) less) (âŸ¨âŸ© (â— lst) greater))))))))))

(â‰” âŠ™partition (Î» (cmp) (Î» (pivot) (Î» (lst)
  (((((âŠ™partition-helper cmp) pivot) lst) âˆ…) âˆ…)))))

; Quicksort with custom comparator
; Quicksort with custom comparator
(â‰” âŠ™quicksortâ†’ (Î» (cmp) (Î» (lst)
  (? (âˆ…? lst)
     âˆ…
     (? (âˆ…? (â–· lst))
        lst
        ((Î» (pivot)
           ((Î» (parts)
              ((Î» (less)
                 ((Î» (greater)
                    (((âŠ™concat-three ((âŠ™quicksortâ†’ cmp) less)) (âŸ¨âŸ© pivot âˆ…)) ((âŠ™quicksortâ†’ cmp) greater)))
                  (â–· parts)))
               (â— parts)))
            (((âŠ™partition cmp) pivot) (â–· lst))))
         (â— lst)))))))

(â‰” âŠ™quicksort (âŠ™quicksortâ†’ âŠ™â‰¤))

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; DEFAULT SORT
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

(â‰” âŠ™sortâ†’ âŠ™mergesortâ†’)
(â‰” âŠ™sort âŠ™mergesort)

; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
; HIGHER-ORDER SORTING
; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

(â‰” âŠ™sortbyâ†’ (Î» (key-fn) (Î» (cmp) (Î» (lst)
  ((âŠ™sortâ†’ (Î» (a) (Î» (b) ((cmp (key-fn a)) (key-fn b))))) lst)))))

(â‰” âŠ™sortby (Î» (key-fn) ((âŠ™sortbyâ†’ key-fn) âŠ™â‰¤)))

; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
; END OF SORT LIBRARY
; â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
