;;;
;;; Minimal evaluator test - isolate the crash
;;;

(load "bootstrap/stdlib/eval-env.scm")

;; Test 1: Just create empty environment
(define empty-env (env-empty))
(print empty-env)

;; Test 2: Create a simple environment
(define env-with-x (((env-extend empty-env) :x) #42))
(print env-with-x)

;; Test 3: Look up in environment
(print ((env-lookup env-with-x) :x))

;; Test 4: Examine structure of quoted lambda
(define lambda-expr (quote (lambda (:x) :x)))
(print lambda-expr)
(print (car lambda-expr))  ; Should be :lambda
(print (cdr lambda-expr))  ; Should be the rest

;; Test 5: Try to detect if it's a list
(print (pair? lambda-expr))

;; Test 6: Get the operator
(if (pair? lambda-expr)
   (print (car lambda-expr))
   (print :not-a-list))
