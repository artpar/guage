;;;
;;; Test De Bruijn index resolution in lambda bodies
;;;

;;; Test 1: Identity function (should work)
(define id (lambda (x) x))
(print :test-identity)
(print (id #42))

;;; Test 2: Function that returns a constant (should work)
(define const-fn (lambda (x) #100))
(print :test-constant)
(print (const-fn #42))

;;; Test 3: Function that applies a primitive to its argument
(print :test-primitive-on-arg)
(define is-nil? (lambda (x) (null? x)))
(print (is-nil? nil))
(print (is-nil? #42))

;;; Test 4: Function that passes argument to another primitive
(define get-head (lambda (x) (car x)))
(print :test-car-on-arg)
(define my-list (cons #1 #2))
(print my-list)
(print (get-head my-list))
